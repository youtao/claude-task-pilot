# ä»»åŠ¡å®Œæˆå·¥ä½œæµç¨‹

## é—®é¢˜ï¼šå·¥ä½œå®Œæˆåæ–‡æ¡£æ²¡æœ‰è‡ªåŠ¨æ›´æ–°

**åœºæ™¯**ï¼š
1. session.md ä¸­è®°å½•äº†å½“å‰ä»»åŠ¡è®¡åˆ’
2. Claude Code æŒ‰ç…§è®¡åˆ’å®Œæˆå·¥ä½œï¼ˆæ–°å¢/ä¿®æ”¹æ–‡ä»¶ï¼‰
3. å·¥ä½œå®Œæˆåï¼Œæ–‡æ¡£æ²¡æœ‰è‡ªåŠ¨åŒæ­¥æ›´æ–°

**åŸå› **ï¼š
Hook åªèƒ½æ£€æµ‹æ–‡ä»¶æ“ä½œï¼Œæ— æ³•åˆ¤æ–­"ä»»åŠ¡æ˜¯å¦å®Œæˆ"ã€‚éœ€è¦ç”¨æˆ·ä¸»åŠ¨æ ‡è®°ä»»åŠ¡å®Œæˆã€‚

---

## è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `/complete-task` å‘½ä»¤

### å·¥ä½œæµç¨‹

```mermaid
graph TD
    A[1. æŸ¥çœ‹ session.md] --> B[2. Claude Code å®Œæˆå·¥ä½œ]
    B --> C[3. è¿è¡Œ /complete-task]
    C --> D[4. è‡ªåŠ¨æ›´æ–°æ‰€æœ‰æ–‡æ¡£]
    D --> E[5. è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ¨è]
```

### è¯¦ç»†æ­¥éª¤

#### æ­¥éª¤ 1: æŸ¥çœ‹å½“å‰ä»»åŠ¡

```bash
# æŸ¥çœ‹ session.md äº†è§£å½“å‰ä»»åŠ¡
cat docs/session.md
```

è¾“å‡ºç¤ºä¾‹ï¼š
```markdown
## ğŸ¯ å½“å‰ä»»åŠ¡

| ä»»åŠ¡ID | æè¿° | çŠ¶æ€ | è´Ÿè´£æ¨¡å— | ä¼˜å…ˆçº§ |
|--------|------|------|----------|--------|
| task-001 | å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½ | ğŸ”„ è¿›è¡Œä¸­ | backend | P0 |
```

#### æ­¥éª¤ 2: Claude Code å®Œæˆå·¥ä½œ

```bash
# è®© Claude Code å·¥ä½œ
# ä¾‹å¦‚ï¼šå®ç°ç™»å½• APIã€åˆ›å»ºæ•°æ®æ¨¡å‹ç­‰
```

#### æ­¥éª¤ 3: æ ‡è®°ä»»åŠ¡å®Œæˆ

```bash
# æ–¹å¼ 1: ä½¿ç”¨å½“å‰ä»»åŠ¡ï¼ˆæ¨èï¼‰
/complete-task

# æ–¹å¼ 2: æŒ‡å®šä»»åŠ¡ID
/complete-task task-001

# æ–¹å¼ 3: æŒ‡å®šæ–‡ä»¶è·¯å¾„
/complete-task task-001-user-login.md
```

#### æ­¥éª¤ 4: è‡ªåŠ¨æ›´æ–°æ–‡æ¡£

å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

âœ… **ç§»åŠ¨ä»»åŠ¡å¡ç‰‡**: `docs/todo/backlog/task-001-*.md` â†’ `docs/done/2026-02/`
âœ… **æ›´æ–° session.md**: æ¸…ç©º"å½“å‰ä»»åŠ¡"ï¼Œæ·»åŠ åˆ°"ä¸Šä¸€ä¸ªä»»åŠ¡"
âœ… **æ›´æ–° current-sprint.md**: å°†ä»»åŠ¡çŠ¶æ€æ”¹ä¸º âœ… å®Œæˆ
âœ… **æ›´æ–° archive-index.md**: æ·»åŠ å½’æ¡£è®°å½•
âœ… **æ¨èä¸‹ä¸€ä¸ªä»»åŠ¡**: è°ƒç”¨ task-suggester agent

#### æ­¥éª¤ 5: æŸ¥çœ‹æ¨è

å‘½ä»¤ä¼šè‡ªåŠ¨è°ƒç”¨ task-suggester agentï¼Œæ¨èä¸‹ä¸€ä¸ªä»»åŠ¡ï¼š

```markdown
## ğŸ¯ å»ºè®®çš„ä¸‹ä¸€ä¸ªä»»åŠ¡

### æ¨è 1: task-002 - è®¾è®¡ç”¨æˆ·æ•°æ®æ¨¡å‹
- **ç†ç”±**: ä¾èµ–ä»»åŠ¡ task-001 å·²å®Œæˆï¼Œç°åœ¨å¯ä»¥å¼€å§‹
- **ä¼˜å…ˆçº§**: P0
- **é¢„è®¡æ—¶é—´**: 2-3 å°æ—¶
- **ä¾èµ–ä»»åŠ¡**: âœ… task-001: å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½
```

---

## å‘½ä»¤å‚æ•°è¯¦è§£

### æ ¼å¼ 1: ä¸æä¾›å‚æ•°ï¼ˆæ¨èï¼‰

```bash
/complete-task
```

**è¡Œä¸º**ï¼š
- è‡ªåŠ¨ä» `session.md` è¯»å–"å½“å‰ä»»åŠ¡"
- æœ€å¸¸ç”¨çš„æ–¹å¼

**é€‚ç”¨åœºæ™¯**ï¼š
- session.md ä¸­è®°å½•äº†å½“å‰ä»»åŠ¡
- ä¸€æ¬¡åªåšä¸€ä¸ªä»»åŠ¡

### æ ¼å¼ 2: ä»»åŠ¡ID

```bash
/complete-task task-001
```

**è¡Œä¸º**ï¼š
- è‡ªåŠ¨æŸ¥æ‰¾å¯¹åº”çš„ä»»åŠ¡æ–‡ä»¶
- æ”¯æŒ 3 ä½ä»»åŠ¡ID æ ¼å¼

**é€‚ç”¨åœºæ™¯**ï¼š
- åŒæ—¶åšäº†å¤šä¸ªä»»åŠ¡
- session.md æœªåŠæ—¶æ›´æ–°

### æ ¼å¼ 3: æ–‡ä»¶è·¯å¾„

```bash
# å®Œæ•´è·¯å¾„
/complete-task docs/todo/backlog/task-001-user-login.md

# æ–‡ä»¶å
/complete-task task-001-user-login.md
```

**è¡Œä¸º**ï¼š
- ä½¿ç”¨æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„

**é€‚ç”¨åœºæ™¯**ï¼š
- ä»»åŠ¡æ–‡ä»¶åä¸è§„èŒƒ
- éœ€è¦ç²¾ç¡®æŒ‡å®šæ–‡ä»¶

---

## å®é™…ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å®Œæˆå•ä¸ªä»»åŠ¡

```bash
# 1. å¼€å§‹å·¥ä½œ
"è¯·æŒ‰ç…§ session.md ä¸­çš„ä»»åŠ¡ï¼Œå®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"

# [Claude Code å®Œæˆå·¥ä½œ...]

# 2. æ ‡è®°å®Œæˆ
/complete-task

# è¾“å‡ºï¼š
# âœ… ä»»åŠ¡å·²å½’æ¡£: docs/done/2026-02/task-001-user-login.md
# âœ… å·²æ›´æ–° session.md
# âœ… å·²æ›´æ–° current-sprint.md
# âœ… å·²æ›´æ–° archive-index.md
#
# [æ¨èä¸‹ä¸€ä¸ªä»»åŠ¡...]
```

### ç¤ºä¾‹ 2: å®Œæˆå¤šä¸ªä»»åŠ¡

```bash
# 1. ä¸€æ¬¡å®Œæˆäº†å¤šä¸ªä»»åŠ¡
"è¯·å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š
- task-001: ç”¨æˆ·ç™»å½•
- task-002: ç”¨æˆ·æ³¨å†Œ
- task-003: å¯†ç é‡ç½®"

# [Claude Code å®Œæˆå·¥ä½œ...]

# 2. åˆ†åˆ«æ ‡è®°å®Œæˆ
/complete-task task-001
/complete-task task-002
/complete-task task-003

# æˆ–è€…ä¸æä¾›å‚æ•°ï¼ŒæŒ‰é¡ºåºå®Œæˆ
/complete-task  # å®Œæˆ task-001
/complete-task  # å®Œæˆ task-002ï¼ˆå¦‚æœ session.md å·²æ›´æ–°ï¼‰
```

### ç¤ºä¾‹ 3: ä»»åŠ¡æ–‡ä»¶ä¸åœ¨ backlog/ ç›®å½•

```bash
# å¦‚æœä»»åŠ¡æ–‡ä»¶åœ¨å…¶ä»–ä½ç½®ï¼Œä½¿ç”¨å®Œæ•´è·¯å¾„
/complete-task docs/somewhere/task-001-feature.md

# æˆ–è€…å…ˆç§»åŠ¨åˆ° backlog/
mv docs/somewhere/task-001-feature.md docs/todo/backlog/
/complete-task task-001
```

---

## ä¸ Hook çš„é…åˆ

### è‡ªåŠ¨æ£€æµ‹ vs æ‰‹åŠ¨æ ‡è®°

| æ–¹å¼ | è§¦å‘æ¡ä»¶ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|---------|------|------|
| **PostToolWrite Hook** | ä½¿ç”¨ `mv` å‘½ä»¤ç§»åŠ¨æ–‡ä»¶ | å®Œå…¨è‡ªåŠ¨ | éœ€è¦æ‰‹åŠ¨ç§»åŠ¨æ–‡ä»¶ |
| **complete-task å‘½ä»¤** | è¿è¡Œå‘½ä»¤ | æ–¹ä¾¿å¿«æ· | éœ€è¦æ‰‹åŠ¨è¿è¡Œ |

### æ¨èå·¥ä½œæµç¨‹

```bash
# æ–¹å¼ 1: ä½¿ç”¨å‘½ä»¤ï¼ˆæ¨èï¼‰
/complete-task  # è‡ªåŠ¨å¤„ç†æ‰€æœ‰æ–‡æ¡£æ›´æ–°

# æ–¹å¼ 2: ä½¿ç”¨ mv å‘½ä»¤ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰
mv docs/todo/backlog/task-001.md docs/done/2026-02/
# Hook ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ›´æ–°æ–‡æ¡£

# ä¸¤ç§æ–¹å¼æ•ˆæœç›¸åŒï¼
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: å‘½ä»¤æœªæ‰¾åˆ°

```bash
/complete-task
# è¾“å‡ºï¼šCommand not found: /complete-task
```

**åŸå› **: æ’ä»¶æœªæ­£ç¡®åŠ è½½

**è§£å†³**:
```bash
# æ£€æŸ¥æ’ä»¶ç›®å½•
ls ~/.claude/plugins/claude-task-pilot/commands/

# åº”è¯¥çœ‹åˆ° complete-task.md
```

### é—®é¢˜ 2: æœªæ‰¾åˆ°å½“å‰ä»»åŠ¡

```markdown
âŒ æœªæ‰¾åˆ°å½“å‰ä»»åŠ¡

session.md ä¸­æ²¡æœ‰è®°å½•å½“å‰ä»»åŠ¡ã€‚

è¯·æä¾›ä»»åŠ¡IDæˆ–æ–‡ä»¶è·¯å¾„ï¼Œä¾‹å¦‚:
- /complete-task task-001
- /complete-task task-001-feature.md
```

**è§£å†³**:
```bash
# æ–¹å¼ 1: æ‰‹åŠ¨æä¾›ä»»åŠ¡ID
/complete-task task-001

# æ–¹å¼ 2: æ›´æ–° session.md
vim docs/session.md
# æ·»åŠ å½“å‰ä»»åŠ¡åˆ°"## ğŸ¯ å½“å‰ä»»åŠ¡"éƒ¨åˆ†
```

### é—®é¢˜ 3: ä»»åŠ¡æ–‡ä»¶ä¸å­˜åœ¨

```markdown
âŒ ä»»åŠ¡æ–‡ä»¶ä¸å­˜åœ¨

è·¯å¾„: docs/todo/backlog/task-001-unknown.md
```

**è§£å†³**:
```bash
# 1. æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²å½’æ¡£
ls docs/done/ | grep task-001

# 2. æ£€æŸ¥å½“å‰ä»»åŠ¡åˆ—è¡¨
cat docs/todo/current-sprint.md | grep task-001

# 3. æœç´¢ä»»åŠ¡æ–‡ä»¶
find docs -name "task-001*.md"
```

### é—®é¢˜ 4: éƒ¨åˆ†æ–‡æ¡£æ›´æ–°å¤±è´¥

```markdown
âš ï¸ éƒ¨åˆ†æ–‡æ¡£æ›´æ–°å¤±è´¥

ä»»åŠ¡å·²å½’æ¡£ï¼Œä½†ä»¥ä¸‹æ–‡æ¡£æ›´æ–°å¤±è´¥:
- docs/session.md: Permission denied
```

**è§£å†³**:
```bash
# 1. æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la docs/session.md

# 2. æ‰‹åŠ¨æ›´æ–°æ–‡æ¡£
vim docs/session.md

# 3. æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
```

---

## æœ€ä½³å®è·µ

### 1. å·¥ä½œå®Œæˆåç«‹å³æ ‡è®°

```bash
# âœ… å¥½çš„åšæ³•
"å®ç°ç”¨æˆ·ç™»å½•"
[å®Œæˆå·¥ä½œ]
/complete-task

# âŒ ä¸å¥½çš„åšæ³•
"å®ç°ç”¨æˆ·ç™»å½•"
[å®Œæˆå·¥ä½œ]
[ç»§ç»­åšå…¶ä»–äº‹æƒ…...]
[å¿˜è®°æ ‡è®°å®Œæˆ]
```

### 2. å®šæœŸæ£€æŸ¥æ–‡æ¡£åŒæ­¥

```bash
# æ¯å¤©å¼€å§‹å·¥ä½œå‰ï¼Œæ£€æŸ¥æ–‡æ¡£æ˜¯å¦æœ€æ–°
cat docs/session.md
cat docs/todo/current-sprint.md
```

### 3. ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶

```bash
# æäº¤å®Œæˆçš„ä»»åŠ¡å’Œæ–‡æ¡£æ›´æ–°
git add docs/
git commit -m "Complete task-001: User login feature"
```

### 4. ä¿æŒä»»åŠ¡å¡ç‰‡æ›´æ–°

```bash
# å¦‚æœä»»åŠ¡èŒƒå›´å˜åŒ–ï¼Œå…ˆæ›´æ–°ä»»åŠ¡å¡ç‰‡
vim docs/todo/backlog/task-001.md
# æ·»åŠ  "## âœ… å®Œæˆå†…å®¹" éƒ¨åˆ†
# è®°å½•å®é™…å®Œæˆçš„å·¥ä½œ
```

---

## æ€»ç»“

**æ ¸å¿ƒå·¥ä½œæµç¨‹**ï¼š
1. æŸ¥çœ‹ `session.md` äº†è§£å½“å‰ä»»åŠ¡
2. Claude Code å®Œæˆå·¥ä½œ
3. è¿è¡Œ `/complete-task` æ ‡è®°å®Œæˆ
4. æŸ¥çœ‹æ¨èï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªä»»åŠ¡

**å…³é”®è¦ç‚¹**ï¼š
- âœ… ä½¿ç”¨ `/complete-task` å‘½ä»¤æ ‡è®°ä»»åŠ¡å®Œæˆ
- âœ… å‘½ä»¤ä¼šè‡ªåŠ¨æ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡æ¡£
- âœ… è‡ªåŠ¨æ¨èä¸‹ä¸€ä¸ªä»»åŠ¡
- âœ… ä¿æŒæ–‡æ¡£ä¸å®é™…å·¥ä½œåŒæ­¥

**ç›¸å…³å‘½ä»¤**ï¼š
- `/complete-task` - æ ‡è®°ä»»åŠ¡å®Œæˆï¼ˆæœ¬å‘½ä»¤ï¼‰
- `/convert-design-to-tasks` - å°†è®¾è®¡æ–‡æ¡£è½¬æ¢ä¸ºä»»åŠ¡å¡ç‰‡
- `/setup-task-pilot` - åˆå§‹åŒ–é¡¹ç›®ç»“æ„
